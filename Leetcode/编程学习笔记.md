# 编程学习笔记

这里记录一些平时看到的不错的学习链接/自己实践时的笔记。记着记着发现朝unity笔记偏了，好像和编程关系不大……凑合记吧

## C#

### Unity相关

- Visual Studio无unity语法高亮+补全等功能： https://blog.terresquall.com/2020/11/fixing-visual-studios-intellisense-autocomplete-in-unity/
- unity在脚本里用inputField记得用类型`TMP_InputField`，不然inspector那里拖不进去。 https://discussions.unity.com/t/cant-drag-inputfield-to-property-of-script-in-inspector/236998 。然后取用户输入直接用`TMP_InputField`的`.text`属性，不要用脚本在children下找那个tmp text然后再取text，否则得到的字符串末尾会有一个ascii值为8203“幽灵字符”。参考 https://forum.unity.com/threads/textmesh-pro-ugui-hidden-characters.505493/
- input system（manager）使用: https://gamedevbeginner.com/input-in-unity-made-easy-complete-guide-to-the-new-system/
- animator（动画过渡）： https://www.youtube.com/watch?v=hkaysu1Z-N8
- cinemachine: https://gamedevacademy.org/unity-cinemachine-tutorial/ 。用这个组件可以很轻松实现相机跟随
    - 菜单栏->Window->package manager里搜索cinemachine并安装
    - hierarchy右键->cinemachine->virtual camera
    - virtual camera(默认名CM vcam1)的cinemachineVirtualCamera组件中follow拖入要跟随的角色
- 如果想要使用trigger，需要确保：
    - 物体均有collider
    - 至少有一个物体具有rigidbody，另外一个只有collider，勾选trigger选项
- 假如要等待用户输入再继续执行下面的逻辑的话，一定要用异步,例如`await Task.Delay(25)`。不确定这是否是最佳解法，但是一定不要用`while(condition){}`死循环来等，否则unity直接卡死，不用任务管理器的话关都关不掉，只能重启电脑。也要注意，若程序没用死循环等待，但是因为某些逻辑错误导致某段代码整体成为死循环，unity会闪退
- 如何build webGL game：
1. 菜单栏File->Build Settings,platform选择WebGL
2. 点击Player Settings。可自定义想要的内容，但注意在Publishing Settings中勾选Decompression Fallback
3. 点击Build，选择build的输出文件夹
- 如何将其发布在 https://itch.io/ ：
1. 将build的输出文件夹整个压缩为zip
2. 在 https://itch.io/game/new 页面中，设置游戏的名字以及其他设置(Frame options可以勾选个Fullscreen button)，注意Kind of project选HTML
3. 点击upload，上传刚才压缩的zip。上传完成后勾选“This file will be played in the browser”
4. 最后，Visibility & access处需要勾选public。这里比较奇怪，需要先勾选Draft保存，第二次编辑时才能选public
- 如何更换天空盒： https://medium.com/nerd-for-tech/change-the-skybox-in-unity-in-just-3-simple-steps-afe537369c1a 。在商店添加资源后，参考 https://docs.unity3d.com/Manual/upm-ui-import.html 导入资源。教程提到的lighting manager在菜单栏->Window->Rendering->Lighting,天空盒在lighting manager的Environment而不是scene里换
- 今天发现个很奇怪的事：unity3d中使用cinemachine+quad，到某个临界点后莫名奇妙有个quad就消失了。scene view里站在某个角度能看到，某个角度就消失了；更奇怪的是game view里不仅看不到，连碰撞也没有。目前没找到解决办法，只是发现用cube就不会发生这种情况了
- 当同时创建多个virtual camera后，game实际的视角为active的camera（`GameObject.SetActive(true)`，同时只会有一个)。如果禁用当前camera然后启用另一个，会自动出现一段过渡

### 异步编程（async/await）

- https://blog.stephencleary.com/2012/02/async-and-await.html
- https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html

### 杂项

- 判断字符串是否是数字： https://stackoverflow.com/questions/894263/identify-if-a-string-is-a-number

## C++

### 入门教程

- https://www.youtube.com/watch?v=18c3MTX0PK0&list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb
    - 不完全是入门教程,个人在里面了解到了很多C++的新奇玩意，进一步理解了内存。适合所有有C++基础或者有其他语言基础的人看，完全没接触过编程的不建议看